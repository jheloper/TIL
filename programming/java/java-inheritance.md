# 자바 상속

자바에서 **상속** 이란 어떤 클래스가 특정 클래스의 멤버를 물려받는 행위를 의미함. 이 때 특정 클래스의 멤버를 물려받는 어떤 클래스를 *자식 클래스, 하위 클래스* 등으로 부르고 어떤 클래스에게 멤버를 물려주는 특정 클래스를 *부모 클래스, 상위 클래스* 등으로 부름.

상속은 **이미 만든 클래스를 재사용해서 새로운 클래스를 만들기 때문에 코드의 중복을 줄여줌.** 또한 클래스의 수정을 최소화할 수도 있는데, 부모 클래스의 수정으로 모든 자식 클래스들도 함께 수정되기 때문임.

상속을 한다 해도 부모 클래스의 모든 멤버를 물려받는 것은 아님. 부모 클래스의 `private` 접근 제한을 갖는 멤버는 상속 대상에서 제외됨. 그리고 부모 클래스와 자식 클래스가 서로 다른 패키지에 존재한다면 `default` 접근 제한을 갖는 멤버도 상속 대상에서 제외됨.

`extends` 키워드를 통해 상속할 부모 클래스를 지정함.

자바는 **다중 상속을 허용하지 않음.**



## 부모 생성자 호출

자바에서 자식 객체를 생성하면 부모 객체가 먼저 생성되고 자식 객체가 그 다음에 생성됨.

모든 객체는 클래스의 생성자를 호출해야만 생성되는데, 부모 객체 역시 예외는 아님. 따라서 자식 생성자의 맨 첫 줄에서 부모 생성자가 호출됨.

자식 클래스에서 생성자를 명시적으로 선언하지 않았으면 컴파일러는 다음과 같은 기본 생성자를 생성함.

```java
public ChildrenClass() {
  	super();
}
```

`super()`는 부모의 기본 생성자를 호출하는 것.

만약 직접 자식 생성자를 선언하고 명시적으로 부모 생성자를 호출하고 싶다면 자식 생성자의 맨 첫 줄에 `super()`를 넣어줘야 함.



## 부모 메서드 호출

자식 클래스에서 부모 클래스의 메서드를 오버라이딩하게 되면, 부모 클래스의 메서드는 숨겨지고 오버라이딩된 자식 메서드만 사용됨. 그러나 자식 클래스 내부에서 부모 클래스의 메서드를 호출해야 하는 상황이라면 `super` 키워드를 붙여서 부모 메서드를 호출할 수 있음.

```java
super.부모메서드();
```



## final 클래스와 final 메서드

`final` 키워드는 클래스, 필드, 메서드 선언 시 사용할 수 있음. 이것은 해당 선언이 최종 상태이며, 더 이상 수정될 수 없음을 의미함.

### final 클래스

클래스 선언 시 final 키워드를 붙이면 이 클래스는 상속할 수 없음.

```java
public final class FinalClassName() {}
```

final 클래스의 대표적인 예는 자바 표준 API에서 제공하는 String 클래스.

### final 메서드

메서드 선언 시 final 키워드를 붙이면 이 메서드는 오버라이딩할 수 없음.

```java
public final int plus(int a, int b) {}
```



## protected 접근제한자

같은 패키지에서는 접근 제한이 없으나 다른 패키지에서는 자식 클래스만 접근을 허용함.

필드, 생성자, 메서드 선언에 사용될 수 있음.



## 타입 변환

### 자동 타입 변환(Promotion)

자식 타입은 부모 타입의 특징과 기능을 상속받기 때문에 부모와 동일하게 취급될 수 있음. 따라서 부모 타입의 변수에 자식 타입을 할당할 경우 자식 타입이 부모 타입으로 자동 타입 변환됨.

바로 위의 부모 타입이 아니더라도 해당 타입의 상속 계층에서 상위 타입이라면 자동 타입 변환이 가능함.

자식 클래스가 부모 클래스로 자동 타입 변환된 이후에는 부모 클래스에 선언된 필드와 메서드만 접근 가능함. 그러나 자식 클래스에서 오버라이딩된 메서드는 자식 클래스의 메서드가 대신 호출됨.

### 강제 타입 변환(Casting)

부모 타입을 자식 타입으로 변환하는 경우를 의미함. 모든 부모 타입이 자식 타입으로 변환될 수 있는 것은 아니며, 자식 타입이 부모 타입으로 자동 변환한 후, 다시 자식 타입으로 변환할 때 강제 타입 변환을 사용할 수 있음.

### 객체 타입 확인(instanceof)

어떤 객체가 어떤 클래스의 인스턴스인지 확인할 때 `instanceof` 연산자를 사용함. 강제 타입 변환을 하기 전에 `instanceof`를 사용하여 변환할 타입의 객체인지 확인하는 것을 권장.





